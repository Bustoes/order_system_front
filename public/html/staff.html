<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>staff</title>

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="/public/stylesheet/staff.css">
</head>
<body>

<div id="app">
    <!-- 模板html，写新html直接复制 -->
    <!-- 写之前观看vue教程 -->
    <h1>餐厅员工管理系统</h1>

    <!-- 1. 管理菜单 -->
    <h2>管理菜单</h2>
    <form @submit.prevent="addDish">
        <label for="dishName">菜名：</label>
        <input v-model="newDish.name" required id="dishName">
        <label for="dishPrice">价格：</label>
        <input v-model="newDish.price" type="number" required id="dishPrice">
        <label for="dishType">类型：</label>
        <input v-model="newDish.type" required id="dishType">
        <label for="dishImage">图片 URL：</label>
        <input v-model="newDish.image" required id="dishImage">
        <button type="submit">添加菜品</button>
    </form>

    <!-- 3. 菜单列表 -->
    <h3>菜单列表</h3>
    <table>
        <thead>
        <tr>
            <th>编号</th>
            <th>菜名</th>
            <th>价格</th>
            <th>类型</th>
            <th>图片</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="(dish, index) in menu" :key="index">
            <td>{{ dish.meal_id }}</td>
            <td>{{ dish.meal_name }}</td>
            <td>{{ dish.meal_price }}</td>
            <td>{{ dish.type }}</td>
            <td><img :src="dish.image_path" :alt="dish.meal_name"></td>
            <td>
                <button @click="editDish(index)"><i class="fas fa-edit"></i> 编辑</button>
                <button @click="deleteDish(index)"><i class="fas fa-trash-alt"></i> 删除</button>
            </td>
        </tr>
        </tbody>
    </table>

    <!-- 添加销售情况显示区域 -->
    <h3>销售情况</h3>
    <ul>
        <li v-for="(sale, saleIndex) in sales" :key="saleIndex">
            {{ sale.meal_name }} - 销售数量: {{ sale.num_order }}
        </li>
    </ul>

    <h3>订单列表</h3>
    <table>
        <thead>
        <tr>
            <th>订单号</th>
            <th>状态</th>
            <th>配送地址</th>
            <th>配送员</th>
            <th>订单金额</th>
            <th>评论</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="(order, orderIndex) in orders" :key="orderIndex">
            <td>{{ order.order_id }}</td>
            <td>{{ order.status }}</td>
            <td>{{ order.destination }}</td>
            <td>{{ order.delivery_name }}</td>
            <td>{{ order.order_price }}</td>
            <td>{{ order.order_comment }}</td>
            <td>
<!--                一添加就无法运转-->
<!--                <button :disabled="scope.row.status===2 || scope.row.status===3 || scope.row.status===4 || scope.row.status===5" @click="acceptOrder(order.order_id)"><i class="fas fa-check"></i> 接受订单</button>-->
                <button @click="acceptOrder(order.order_id)"><i class="fas fa-check"></i> 接受订单</button>
            </td>
        </tr>
        </tbody>
    </table>

</div>



<!-- 引入组件库 -->
<script src="/component/vue.js"></script>
<script src="/component/axios-0.18.0.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<!-- 引入js文件 -->
<script type="module" src="/public/javascript/staff.js"></script>
<script>

</script>
</body>
</html>